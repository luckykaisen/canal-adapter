<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>Dml.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">canal client adapter clickhouse module for otter 1.1.8</a> &gt; <a href="../index.html" class="el_bundle">client-adapter.common</a> &gt; <a href="index.source.html" class="el_package">com.alibaba.otter.canal.client.adapter.support</a> &gt; <span class="el_source">Dml.java</span></div><h1>Dml.java</h1><pre class="source lang-java linenums">package com.alibaba.otter.canal.client.adapter.support;

import java.io.Serializable;
import java.util.List;
import java.util.Map;

/**
 * DML操作转换对象
 *
 * @author rewerma 2018-8-19 下午11:30:49
 * @version 1.0.0
 */
<span class="nc" id="L13">public class Dml implements Serializable {</span>

    private static final long         serialVersionUID = 2611556444074013268L;

    private String                    destination;                            // 对应canal的实例或者MQ的topic
    private String                    groupId;                                // 对应mq的group id
    private String                    database;                               // 数据库或schema
    private String                    table;                                  // 表名
    private List&lt;String&gt;              pkNames;
    private Boolean                   isDdl;
    private String                    type;                                   // 类型: INSERT UPDATE DELETE
    // binlog executeTime
    private Long                      es;                                     // 执行耗时
    // dml build timeStamp
    private Long                      ts;                                     // 同步时间
    private String                    sql;                                    // 执行的sql, dml sql为空
    private List&lt;Map&lt;String, Object&gt;&gt; data;                                   // 数据列表
    private List&lt;Map&lt;String, Object&gt;&gt; old;                                    // 旧数据列表, 用于update, size和data的size一一对应

    public String getDestination() {
<span class="nc" id="L33">        return destination;</span>
    }

    public void setDestination(String destination) {
<span class="nc" id="L37">        this.destination = destination;</span>
<span class="nc" id="L38">    }</span>

    public String getGroupId() {
<span class="nc" id="L41">        return groupId;</span>
    }

    public void setGroupId(String groupId) {
<span class="nc" id="L45">        this.groupId = groupId;</span>
<span class="nc" id="L46">    }</span>

    public String getDatabase() {
<span class="nc" id="L49">        return database;</span>
    }

    public void setDatabase(String database) {
<span class="nc" id="L53">        this.database = database;</span>
<span class="nc" id="L54">    }</span>

    public String getTable() {
<span class="nc" id="L57">        return table;</span>
    }

    public void setTable(String table) {
<span class="nc" id="L61">        this.table = table;</span>
<span class="nc" id="L62">    }</span>

    public List&lt;String&gt; getPkNames() {
<span class="nc" id="L65">        return pkNames;</span>
    }

    public void setPkNames(List&lt;String&gt; pkNames) {
<span class="nc" id="L69">        this.pkNames = pkNames;</span>
<span class="nc" id="L70">    }</span>

    public Boolean getIsDdl() {
<span class="nc" id="L73">        return isDdl;</span>
    }

    public void setIsDdl(Boolean isDdl) {
<span class="nc" id="L77">        this.isDdl = isDdl;</span>
<span class="nc" id="L78">    }</span>

    public String getType() {
<span class="nc" id="L81">        return type;</span>
    }

    public void setType(String type) {
<span class="nc" id="L85">        this.type = type;</span>
<span class="nc" id="L86">    }</span>

    public Long getTs() {
<span class="nc" id="L89">        return ts;</span>
    }

    public void setTs(Long ts) {
<span class="nc" id="L93">        this.ts = ts;</span>
<span class="nc" id="L94">    }</span>

    public String getSql() {
<span class="nc" id="L97">        return sql;</span>
    }

    public void setSql(String sql) {
<span class="nc" id="L101">        this.sql = sql;</span>
<span class="nc" id="L102">    }</span>

    public List&lt;Map&lt;String, Object&gt;&gt; getData() {
<span class="nc" id="L105">        return data;</span>
    }

    public void setData(List&lt;Map&lt;String, Object&gt;&gt; data) {
<span class="nc" id="L109">        this.data = data;</span>
<span class="nc" id="L110">    }</span>

    public List&lt;Map&lt;String, Object&gt;&gt; getOld() {
<span class="nc" id="L113">        return old;</span>
    }

    public void setOld(List&lt;Map&lt;String, Object&gt;&gt; old) {
<span class="nc" id="L117">        this.old = old;</span>
<span class="nc" id="L118">    }</span>

    public Long getEs() {
<span class="nc" id="L121">        return es;</span>
    }

    public void setEs(Long es) {
<span class="nc" id="L125">        this.es = es;</span>
<span class="nc" id="L126">    }</span>

    public void clear() {
<span class="nc" id="L129">        database = null;</span>
<span class="nc" id="L130">        table = null;</span>
<span class="nc" id="L131">        type = null;</span>
<span class="nc" id="L132">        ts = null;</span>
<span class="nc" id="L133">        es = null;</span>
<span class="nc" id="L134">        data = null;</span>
<span class="nc" id="L135">        old = null;</span>
<span class="nc" id="L136">        sql = null;</span>
<span class="nc" id="L137">    }</span>

    @Override
    public String toString() {
<span class="nc" id="L141">        return &quot;Dml{&quot; + &quot;destination='&quot; + destination + '\'' + &quot;, database='&quot; + database + '\'' + &quot;, table='&quot; + table</span>
               + '\'' + &quot;, type='&quot; + type + '\'' + &quot;, es=&quot; + es + &quot;, ts=&quot; + ts + &quot;, sql='&quot; + sql + '\'' + &quot;, data=&quot;
               + data + &quot;, old=&quot; + old + '}';
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span></div></body></html>